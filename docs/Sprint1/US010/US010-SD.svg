<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1164px" preserveAspectRatio="none" style="width:1814px;height:1164px;background:#FFFFFF;" version="1.1" viewBox="0 0 1814 1164" width="1814px" zoomAndPan="magnify"><defs><filter height="300%" id="f1fhj6ndpwgybf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="759" x="525" y="29.4023">US010 - As a Authenticated User, i want to updte its own data (e.g. photo, function,...)</text><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="936.9414" style="stroke:#A80036;stroke-width:1.0;" width="10" x="68.5" y="133.6875"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="441.5254" style="stroke:#A80036;stroke-width:1.0;" width="10" x="310.5" y="154.998"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="435.7949" style="stroke:#A80036;stroke-width:1.0;" width="10" x="310.5" y="625.834"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="382.9043" style="stroke:#A80036;stroke-width:1.0;" width="10" x="681.5" y="184.3086"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="377.1738" style="stroke:#A80036;stroke-width:1.0;" width="10" x="681.5" y="655.1445"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="856.5" y="213.6191"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="119.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1035.5" y="272.2402"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1236.5" y="325.8613"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="318.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1236.5" y="684.4551"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1241.5" y="721.7656"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1241.5" y="794.0762"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1241.5" y="866.3867"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1241.5" y="938.6973"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="117.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1540.5" y="420.793"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="79.7988" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1545.5" y="458.1035"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="75.9316" style="stroke:#000000;stroke-width:2.0;" width="412" x="905" y="287.2402"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="73" x2="73" y1="123.6875" y2="1079.6289"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="315.5" x2="315.5" y1="123.6875" y2="1079.6289"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="686.5" x2="686.5" y1="123.6875" y2="1079.6289"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="861" x2="861" y1="123.6875" y2="1079.6289"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1040" x2="1040" y1="123.6875" y2="1079.6289"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1241" x2="1241" y1="123.6875" y2="1079.6289"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1545" x2="1545" y1="123.6875" y2="1079.6289"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1732" x2="1732" y1="503.8477" y2="1079.6289"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="5" y="120.7344">Authenticated User</text><ellipse cx="73.5" cy="50.1992" fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M73.5,58.1992 L73.5,85.1992 M60.5,66.1992 L86.5,66.1992 M73.5,85.1992 L60.5,100.1992 M73.5,85.1992 L86.5,100.1992 " fill="none" filter="url(#f1fhj6ndpwgybf)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="5" y="1092.1641">Authenticated User</text><ellipse cx="73.5" cy="1105.1172" fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M73.5,1113.1172 L73.5,1140.1172 M60.5,1121.1172 L86.5,1121.1172 M73.5,1140.1172 L60.5,1155.1172 M73.5,1140.1172 L86.5,1155.1172 " fill="none" filter="url(#f1fhj6ndpwgybf)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="170" x="228.5" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="235.5" y="108.7344">:updatePersonalDataUI</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="170" x="228.5" y="1078.6289"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="235.5" y="1099.1641">:updatePersonalDataUI</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="226" x="571.5" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="578.5" y="108.7344">:updatePersonalDataController</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="226" x="571.5" y="1078.6289"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="578.5" y="1099.1641">:updatePersonalDataController</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="83" x="818" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="825" y="108.7344">:Company</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="83" x="818" y="1078.6289"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="825" y="1099.1641">:Company</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="247" x="915" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="922" y="108.7344">systemUserStore:SystemUserStore</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="247" x="915" y="1078.6289"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="922" y="1099.1641">systemUserStore:SystemUserStore</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="127" x="1176" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1183" y="108.7344">user:SystemUser</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="127" x="1176" y="1078.6289"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1183" y="1099.1641">user:SystemUser</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="179" x="1454" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="1461" y="108.7344">user:SystemUserMapper</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="179" x="1454" y="1078.6289"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="1461" y="1099.1641">user:SystemUserMapper</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="139" x="1661" y="1078.6289"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1668" y="1099.1641">userDTO:UserDTO</text><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="936.9414" style="stroke:#A80036;stroke-width:1.0;" width="10" x="68.5" y="133.6875"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="441.5254" style="stroke:#A80036;stroke-width:1.0;" width="10" x="310.5" y="154.998"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="435.7949" style="stroke:#A80036;stroke-width:1.0;" width="10" x="310.5" y="625.834"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="382.9043" style="stroke:#A80036;stroke-width:1.0;" width="10" x="681.5" y="184.3086"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="377.1738" style="stroke:#A80036;stroke-width:1.0;" width="10" x="681.5" y="655.1445"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="856.5" y="213.6191"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="119.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1035.5" y="272.2402"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1236.5" y="325.8613"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="318.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1236.5" y="684.4551"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1241.5" y="721.7656"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1241.5" y="794.0762"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1241.5" y="866.3867"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1241.5" y="938.6973"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="117.1094" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1540.5" y="420.793"/><rect fill="#FFFFFF" filter="url(#f1fhj6ndpwgybf)" height="79.7988" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1545.5" y="458.1035"/><polygon fill="#A80036" points="298.5,150.998,308.5,154.998,298.5,158.998,302.5,154.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="78.5" x2="304.5" y1="154.998" y2="154.998"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="85.5" y="150.2559">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="98.5" y="150.2559">Starts looking for Personal Data</text><polygon fill="#A80036" points="669.5,180.3086,679.5,184.3086,669.5,188.3086,673.5,184.3086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="320.5" x2="675.5" y1="184.3086" y2="184.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="327.5" y="179.5664">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="340.5" y="179.5664">getUser(email)</text><polygon fill="#A80036" points="844.5,209.6191,854.5,213.6191,844.5,217.6191,848.5,213.6191" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="691.5" x2="850.5" y1="213.6191" y2="213.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="698.5" y="208.877">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="711.5" y="208.877">getSystemUserStore()</text><polygon fill="#A80036" points="702.5,238.9297,692.5,242.9297,702.5,246.9297,698.5,242.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="860.5" y1="242.9297" y2="242.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="708.5" y="238.1875">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="721.5" y="238.1875">systemUserStore</text><polygon fill="#A80036" points="1023.5,268.2402,1033.5,272.2402,1023.5,276.2402,1027.5,272.2402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="691.5" x2="1029.5" y1="272.2402" y2="272.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="698.5" y="267.498">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="711.5" y="267.498">getUserByEmail(email)</text><path d="M905,287.2402 L979,287.2402 L979,294.2402 L969,304.2402 L905,304.2402 L905,287.2402 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:2.0;" width="412" x="905" y="287.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="920" y="300.8086">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="274" x="994" y="299.875">[for each known systemUser in systemUserStore]</text><polygon fill="#A80036" points="1224.5,321.8613,1234.5,325.8613,1224.5,329.8613,1228.5,325.8613" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1045.5" x2="1230.5" y1="325.8613" y2="325.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1052.5" y="321.1191">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1065.5" y="321.1191">isYourEmail(email)</text><polygon fill="#A80036" points="1056.5,351.1719,1046.5,355.1719,1056.5,359.1719,1052.5,355.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1050.5" x2="1240.5" y1="355.1719" y2="355.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1062.5" y="350.4297">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1075.5" y="350.4297">true</text><polygon fill="#A80036" points="702.5,387.4824,692.5,391.4824,702.5,395.4824,698.5,391.4824" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="1039.5" y1="391.4824" y2="391.4824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="708.5" y="386.7402">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="721.5" y="386.7402">user</text><polygon fill="#A80036" points="1528.5,416.793,1538.5,420.793,1528.5,424.793,1532.5,420.793" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="691.5" x2="1534.5" y1="420.793" y2="420.793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="698.5" y="416.0508">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="711.5" y="416.0508">toUserDTO(user)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1550.5" x2="1597.5" y1="445.1035" y2="445.1035"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1597.5" x2="1597.5" y1="445.1035" y2="458.1035"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1556.5" x2="1597.5" y1="458.1035" y2="458.1035"/><polygon fill="#A80036" points="1566.5,454.1035,1556.5,458.1035,1566.5,462.1035,1562.5,458.1035" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1562.5" y="440.3613">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="1584.5" y="440.3613">userDTO=toDTO(user)</text><polygon fill="#A80036" points="1649,488.4141,1659,492.4141,1649,496.4141,1653,492.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1555.5" x2="1655" y1="492.4141" y2="492.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1562.5" y="487.6719">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="1584.5" y="487.6719">create()</text><rect fill="#FEFECE" filter="url(#f1fhj6ndpwgybf)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="139" x="1661" y="471.1035"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1668" y="491.6387">userDTO:UserDTO</text><polygon fill="#A80036" points="702.5,533.9023,692.5,537.9023,702.5,541.9023,698.5,537.9023" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="1544.5" y1="537.9023" y2="537.9023"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="708.5" y="533.1602">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="730.5" y="533.1602">userDTO</text><polygon fill="#A80036" points="331.5,563.2129,321.5,567.2129,331.5,571.2129,327.5,567.2129" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="325.5" x2="685.5" y1="567.2129" y2="567.2129"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="337.5" y="562.4707">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="359.5" y="562.4707">userDTO</text><polygon fill="#A80036" points="89.5,592.5234,79.5,596.5234,89.5,600.5234,85.5,596.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="83.5" x2="314.5" y1="596.5234" y2="596.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="95.5" y="591.7813">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="117.5" y="591.7813">Shows system user data</text><polygon fill="#A80036" points="298.5,621.834,308.5,625.834,298.5,629.834,302.5,625.834" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="78.5" x2="304.5" y1="625.834" y2="625.834"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="85.5" y="621.0918">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="107.5" y="621.0918">Update System User Data</text><polygon fill="#A80036" points="669.5,651.1445,679.5,655.1445,669.5,659.1445,673.5,655.1445" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="320.5" x2="675.5" y1="655.1445" y2="655.1445"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="327.5" y="650.4023">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="349.5" y="650.4023">updateSystemUserData(username, function, photo)</text><polygon fill="#A80036" points="1224.5,680.4551,1234.5,684.4551,1224.5,688.4551,1228.5,684.4551" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="691.5" x2="1230.5" y1="684.4551" y2="684.4551"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="698.5" y="679.7129">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="720.5" y="679.7129">setAllData(username, function, photo)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="713.7656" y2="713.7656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="713.7656" y2="726.7656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="726.7656" y2="726.7656"/><polygon fill="#A80036" points="1262.5,722.7656,1252.5,726.7656,1262.5,730.7656,1258.5,726.7656" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1258.5" y="709.0234">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="1280.5" y="709.0234">checkAllData(username, function, photo)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="786.0762" y2="786.0762"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="786.0762" y2="799.0762"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="799.0762" y2="799.0762"/><polygon fill="#A80036" points="1262.5,795.0762,1252.5,799.0762,1262.5,803.0762,1258.5,799.0762" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1258.5" y="781.334">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1280.5" y="781.334">setUsername(username)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="858.3867" y2="858.3867"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="858.3867" y2="871.3867"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="871.3867" y2="871.3867"/><polygon fill="#A80036" points="1262.5,867.3867,1252.5,871.3867,1262.5,875.3867,1258.5,871.3867" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1258.5" y="853.6445">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1280.5" y="853.6445">setFunction(function)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="930.6973" y2="930.6973"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="930.6973" y2="943.6973"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="943.6973" y2="943.6973"/><polygon fill="#A80036" points="1262.5,939.6973,1252.5,943.6973,1262.5,947.6973,1258.5,943.6973" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1258.5" y="925.9551">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1280.5" y="925.9551">setPhoto(photo)</text><polygon fill="#A80036" points="702.5,999.0078,692.5,1003.0078,702.5,1007.0078,698.5,1003.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="1240.5" y1="1003.0078" y2="1003.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="708.5" y="998.2656">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="730.5" y="998.2656">true</text><polygon fill="#A80036" points="331.5,1028.3184,321.5,1032.3184,331.5,1036.3184,327.5,1032.3184" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="325.5" x2="685.5" y1="1032.3184" y2="1032.3184"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="337.5" y="1027.5762">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="359.5" y="1027.5762">true</text><polygon fill="#A80036" points="89.5,1057.6289,79.5,1061.6289,89.5,1065.6289,85.5,1061.6289" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="83.5" x2="314.5" y1="1061.6289" y2="1061.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="95.5" y="1056.8867">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="117.5" y="1056.8867">Informs Operation Success</text><!--MD5=[c040af7a8273bf742f6a13556284f9da]
@startuml
'https://plantuml.com/sequence-diagram

title US010 - As a Authenticated User, i want to updte its own data (e.g. photo, function,...)

autoactivate on
autonumber

actor "Authenticated User" as authenticatedUser
participant ":updatePersonalDataUI" as UI
participant ":updatePersonalDataController" as Ctrl
participant ":Company" as company
participant "systemUserStore:SystemUserStore" as systemUserStore
participant "user:SystemUser" as user
participant "user:SystemUserMapper" as mapper
participant "userDTO:UserDTO" as userdto


activate authenticatedUser


authenticatedUser -> UI: Starts looking for Personal Data
UI -> Ctrl: getUser(email)
Ctrl -> company: getSystemUserStore()
company - -> Ctrl: systemUserStore
Ctrl -> systemUserStore: getUserByEmail(email)
loop for each known systemUser in systemUserStore
systemUserStore -> user: isYourEmail(email)
user - -> systemUserStore: true
end
systemUserStore - -> Ctrl: user
Ctrl -> mapper: toUserDTO(user)
mapper -> mapper: userDTO=toDTO(user)
mapper - -> userdto**: create()
mapper - -> Ctrl: userDTO
deactivate mapper
Ctrl - -> UI: userDTO
UI - -> authenticatedUser: Shows system user data
deactivate UI
authenticatedUser -> UI: Update System User Data
UI -> Ctrl: updateSystemUserData(username, function, photo)
Ctrl -> user: setAllData(username, function, photo)
user -> user: checkAllData(username, function, photo)
deactivate user
user -> user: setUsername(username)
deactivate user
user -> user: setFunction(function)
deactivate user
user -> user: setPhoto(photo)
deactivate user
user - -> Ctrl: true
Ctrl - -> UI: true
UI - -> authenticatedUser: Informs Operation Success
@enduml

@startuml

title US010 - As a Authenticated User, i want to updte its own data (e.g. photo, function,...)

autoactivate on
autonumber

actor "Authenticated User" as authenticatedUser
participant ":updatePersonalDataUI" as UI
participant ":updatePersonalDataController" as Ctrl
participant ":Company" as company
participant "systemUserStore:SystemUserStore" as systemUserStore
participant "user:SystemUser" as user
participant "user:SystemUserMapper" as mapper
participant "userDTO:UserDTO" as userdto


activate authenticatedUser


authenticatedUser -> UI: Starts looking for Personal Data
UI -> Ctrl: getUser(email)
Ctrl -> company: getSystemUserStore()
company - -> Ctrl: systemUserStore
Ctrl -> systemUserStore: getUserByEmail(email)
loop for each known systemUser in systemUserStore
systemUserStore -> user: isYourEmail(email)
user - -> systemUserStore: true
end
systemUserStore - -> Ctrl: user
Ctrl -> mapper: toUserDTO(user)
mapper -> mapper: userDTO=toDTO(user)
mapper - -> userdto**: create()
mapper - -> Ctrl: userDTO
deactivate mapper
Ctrl - -> UI: userDTO
UI - -> authenticatedUser: Shows system user data
deactivate UI
authenticatedUser -> UI: Update System User Data
UI -> Ctrl: updateSystemUserData(username, function, photo)
Ctrl -> user: setAllData(username, function, photo)
user -> user: checkAllData(username, function, photo)
deactivate user
user -> user: setUsername(username)
deactivate user
user -> user: setFunction(function)
deactivate user
user -> user: setPhoto(photo)
deactivate user
user - -> Ctrl: true
Ctrl - -> UI: true
UI - -> authenticatedUser: Informs Operation Success
@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>