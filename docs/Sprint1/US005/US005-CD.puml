@startuml
'https://plantuml.com/class-diagram

skinparam classAttributeIconSize 0

title US005 - As a Director, I want to create/register a new project


package "System" <<Rectangle>> {

'-------------------INFRASTRUCTURE-----------------------'
package "Infrastructure" <<Rectangle>>  #lightblue {
class "CreateProjectRoute" as infra <<Component>>{
}
}


'-------------------INTERFACE ADAPTERS-------------------'
package Interface_Adapters <<Rectangle>> #lightgreen{
package "Controllers" <<Rectangle>> {
class "ProjectController" as Ctrl <<component>> {
+createProject()
}
}
package Repositories <<Rectangle>> {
class "ProjectRepository" as projectRepo <<repository>> {
+save()
+existByProjectId()
}
}
}

'-------------------APPLICATION SERVICE------------------'
package Application_Service <<Rectangle>> #salmon {
package IFactories <<Rectangle>> {
interface "IProjectFactory" as inter <<interface>>{
+createProject()
}
}
package IRepositories <<Rectangle>> {
interface "IProjectRepo" as iRepo <<interface>>{
save()
existByProjectId()
}
}

package "App Service" <<Rectangle>> {
class "CreateProjectService" as service <<service>> {
+createAndSaveProject()
}
}
}


'-------------------DOMAIN-------------------------------'
package Domain <<Rectangle>> #burlywood{
package "Aggregates" <<Rectangle>> {
class "Project" as project <<root>>
}
package "Factories" <<Rectangle>> {
class "ProjectFactory" as factory <<service>> {
+createProject()
}
}
package "Value Objects" <<Rectangle>> {
class "ProjectId" as projId <<root>>
}
}


'-------------------DTO----------------------------------'
package "DTO" <<Rectangle>> #lightgrey{
class "ProjectMapper" as mapper <<component>> {
+model2Dto()
}
class "CreateProjectDTO" as projectDTO <<component>>
class "OutputProjectDTO" as outPutDTO <<component>>
}


'-------------------OTHERS-------------------------------'
class "ResponseEntity" as json <<Component>>

}


'-------------------RELATIONSHIPS------------------------'
infra ..> Ctrl
Ctrl ..> service
Ctrl .> json
projectRepo ..|> iRepo
service .l.> iRepo
service ..> inter
service .r.> mapper
factory .u.|> inter
factory .r.> project
factory .l.> projectDTO
service .r.> projectDTO
mapper .u.> outPutDTO
Ctrl ..> outPutDTO
project *--> projId


@enduml