@startuml
title US09 - "As Product Owner, I want to create a user story and add it to the Product Backlog"

autoactivate on
autonumber

participant ": IUserStoryRepo" as Repository
participant ": UserStoryJpaAssembler" as Assembler
participant "userStoryJPA:UserStoryJpa" as USJPA
participant ":IUserStoryRepositoryJpa" as Driver
participant "savedData:Data" as Data
participant "userStory:UserStory" as US

[o->Repository: save(newUserStory)
Repository -> Assembler : toData(newUserStory)
Assembler -> USJPA **: create ()
Assembler --> Repository : UserStoryJPA
Repository -> Driver: save(userStoryJpa)
Driver -> Data**: create(savedUserStoryJpa)
Driver --> Repository : savedData
Repository -> Assembler: toDomain (savedData)
Assembler -> US **: create()
Assembler --> Repository :userStory

[<--Repository: userStory

@enduml
