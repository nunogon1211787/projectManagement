@startuml
'https://plantuml.com/class-diagram

skinparam classAttributeIconSize 0

title US008 - As a Project Manager i want to edit some project information


package "System" <<Rectangle>> {

'-------------------INFRASTRUCTURE-----------------------'
package Infrastructure <<Rectangle>> #lightblue {

package Routers <<Rectangle>> {
class "EditProjectRoute" as route <<Component>>
}

package "Persistence" <<Rectangle>> {
    class "IProjectRepositoryJpa" as jpa <<Interface>>
    }

}

'-------------------INTERFACE ADAPTERS-------------------'
package Interface_Adapters <<Rectangle>> #lightgreen{

package Controllers <<Rectangle>> {
class ProjectController <<component>> {
+editProject()
}
}

package Repositories <<Rectangle>> {
class ProjectsRepository <<repository>> {
+findByProjectId()
+save()
}
}

}

'-------------------APPLICATION SERVICE------------------'
package Application_Service <<Rectangle>> #salmon {

package IRepositories <<Rectangle>> {
interface IProjectRepo <<interface>>{
findByProjectId()
save()
}
}

package App_Service <<Rectangle>> {
class "EditProjectService" as srv <<service>> {
+editProject()
}
}

}

'-------------------DOMAIN-------------------------------'
package Domain <<Rectangle>> #burlywood{

package Aggregates <<Rectangle>> {
class Project <<root>> {
-projectName
-description
-customer
-businessSector
-typology
-budget
-sprintDuration
-numberOfSprints
-status
-startDate
}
}

package "Value Object" <<rectangle>>{
class "ProjectId" as projId << Value Object >>{
-code
}
}

}

'-------------------DTO----------------------------------'
package DTO <<Rectangle>> #lightgrey{
class ProjectMapper <<component>> {
+model2Dto()
}
class ProjectDTO <<component>>
}

package "Data Model" <<Rectangle>>{
        class "ProjectJpaAssembler" as assemblerjpa <<Component>> {
        +toData (project)
        +toModel(projectJpa)
        }

        class "projectJpa" as ProjJpa {
        -projectName
        -description
        -customer
        -businessSector
        -typology
        -budget
        -sprintDuration
        -numberOfSprints
        -status
        -startDate
        }
}

'-------------------OTHERS-------------------------------'
class "ResponseEntity" as json <<Component>>

}

'-------------------RELATIONSHIPS------------------------'

route ..> ProjectController
ProjectController ..> srv
ProjectController .r> json
srv .> IProjectRepo
srv .r.> ProjectMapper
srv ..> Project
ProjectMapper .l> ProjectDTO
ProjectsRepository ..> Project
IProjectRepo <|.u. ProjectsRepository
Project -r> projId
ProjectsRepository ..> jpa
ProjectsRepository ..> assemblerjpa
ProjectsRepository ..> ProjJpa

@enduml