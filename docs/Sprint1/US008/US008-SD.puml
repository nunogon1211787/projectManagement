@startuml
'https://plantuml.com/class-diagram

title US005 - As a Director, I want to create/register a new project

autoactivate on
autonumber


participant ":CreateProjectRoute " as route
participant ":CreateProjectController " as controller
participant ":ProjectService " as service
participant ":ProjectStore " as store
participant ":ProjectMapper " as mapper
participant "outputDTO: OutputProjectDTO " as dto
participant "proj:Project " as project


[o->  route: EditProject/Projects
route -> controller: editProject(jsonDto)

note right
Change from json to dto hidden to simplify diagram
end note

controller -> service: editProject(dto)

service -> store: findById(dto.projectCode)

store -> project: hasCode(projectCode)

project --> store: true

store --> service: project

service -> project: editProject(dto.data)

project -> project: set()
deactivate project
deactivate project

service -> mapper: model2DTO(project)

mapper -> dto**: model2DTO(proj)

mapper --> service: outputDto

service --> controller: outputDto

controller --> route: jsonDto

note right
Change from outputDto to jsonDto hidden to simplify diagram
end note

[<-- route: response

@enduml

