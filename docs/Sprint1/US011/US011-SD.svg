<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="814px" preserveAspectRatio="none" style="width:1766px;height:814px;background:#FFFFFF;" version="1.1" viewBox="0 0 1766 814" width="1766px" zoomAndPan="magnify"><defs><filter height="300%" id="f10n5l7jjta4xn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="582" x="592.25" y="29.4023">US011 - As Authenticated User, i want to change his/her password</text><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="587.2793" style="stroke:#A80036;stroke-width:1.0;" width="10" x="68.5" y="133.6875"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="388.5" y="154.998"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="498.3477" style="stroke:#A80036;stroke-width:1.0;" width="10" x="388.5" y="213.6191"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="439.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="930.5" y="242.9297"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1105.5" y="272.2402"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="119.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1284.5" y="330.8613"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1485.5" y="384.4824"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="173.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1485.5" y="479.4141"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1490.5" y="516.7246"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1490.5" y="589.0352"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="75.9316" style="stroke:#000000;stroke-width:2.0;" width="412" x="1154" y="345.8613"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="73" x2="73" y1="123.6875" y2="729.9668"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="393" x2="393" y1="123.6875" y2="729.9668"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="935" x2="935" y1="123.6875" y2="729.9668"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1110" x2="1110" y1="123.6875" y2="729.9668"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1289" x2="1289" y1="123.6875" y2="729.9668"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1490" x2="1490" y1="123.6875" y2="729.9668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="5" y="120.7344">Authenticated User</text><ellipse cx="73.5" cy="50.1992" fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M73.5,58.1992 L73.5,85.1992 M60.5,66.1992 L86.5,66.1992 M73.5,85.1992 L60.5,100.1992 M73.5,85.1992 L86.5,100.1992 " fill="none" filter="url(#f10n5l7jjta4xn)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="5" y="742.502">Authenticated User</text><ellipse cx="73.5" cy="755.4551" fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M73.5,763.4551 L73.5,790.4551 M60.5,771.4551 L86.5,771.4551 M73.5,790.4551 L60.5,805.4551 M73.5,790.4551 L86.5,805.4551 " fill="none" filter="url(#f10n5l7jjta4xn)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="147" x="318" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="325" y="108.7344">:changePasswordUI</text><rect fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="147" x="318" y="728.9668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="325" y="749.502">:changePasswordUI</text><rect fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="203" x="832" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="839" y="108.7344">:changePasswordController</text><rect fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="203" x="832" y="728.9668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="839" y="749.502">:changePasswordController</text><rect fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="83" x="1067" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1074" y="108.7344">:Company</text><rect fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="83" x="1067" y="728.9668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1074" y="749.502">:Company</text><rect fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="247" x="1164" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="1171" y="108.7344">systemUserStore:SystemUserStore</text><rect fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="247" x="1164" y="728.9668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="233" x="1171" y="749.502">systemUserStore:SystemUserStore</text><rect fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="127" x="1425" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1432" y="108.7344">user:SystemUser</text><rect fill="#FEFECE" filter="url(#f10n5l7jjta4xn)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="127" x="1425" y="728.9668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1432" y="749.502">user:SystemUser</text><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="587.2793" style="stroke:#A80036;stroke-width:1.0;" width="10" x="68.5" y="133.6875"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="388.5" y="154.998"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="498.3477" style="stroke:#A80036;stroke-width:1.0;" width="10" x="388.5" y="213.6191"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="439.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="930.5" y="242.9297"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1105.5" y="272.2402"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="119.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1284.5" y="330.8613"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1485.5" y="384.4824"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="173.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1485.5" y="479.4141"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1490.5" y="516.7246"/><rect fill="#FFFFFF" filter="url(#f10n5l7jjta4xn)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1490.5" y="589.0352"/><polygon fill="#A80036" points="376.5,150.998,386.5,154.998,376.5,158.998,380.5,154.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="78.5" x2="382.5" y1="154.998" y2="154.998"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="85.5" y="150.2559">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="98.5" y="150.2559">Starts changing password</text><polygon fill="#A80036" points="89.5,180.3086,79.5,184.3086,89.5,188.3086,85.5,184.3086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="83.5" x2="392.5" y1="184.3086" y2="184.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="95.5" y="179.5664">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="108.5" y="179.5664">Requests Data (oldPassword, newPassword)</text><polygon fill="#A80036" points="376.5,209.6191,386.5,213.6191,376.5,217.6191,380.5,213.6191" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="78.5" x2="382.5" y1="213.6191" y2="213.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="85.5" y="208.877">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="98.5" y="208.877">Types Requested Data</text><polygon fill="#A80036" points="918.5,238.9297,928.5,242.9297,918.5,246.9297,922.5,242.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="398.5" x2="924.5" y1="242.9297" y2="242.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="405.5" y="238.1875">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="500" x="418.5" y="238.1875">changePassword(email, oldPassword, newPassword, newPasswordConfirmation)</text><polygon fill="#A80036" points="1093.5,268.2402,1103.5,272.2402,1093.5,276.2402,1097.5,272.2402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="940.5" x2="1099.5" y1="272.2402" y2="272.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="947.5" y="267.498">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="960.5" y="267.498">getSystemUserStore()</text><polygon fill="#A80036" points="951.5,297.5508,941.5,301.5508,951.5,305.5508,947.5,301.5508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="945.5" x2="1109.5" y1="301.5508" y2="301.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="957.5" y="296.8086">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="970.5" y="296.8086">systemUserStore</text><polygon fill="#A80036" points="1272.5,326.8613,1282.5,330.8613,1272.5,334.8613,1276.5,330.8613" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="940.5" x2="1278.5" y1="330.8613" y2="330.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="947.5" y="326.1191">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="960.5" y="326.1191">getUserByEmail(email)</text><path d="M1154,345.8613 L1228,345.8613 L1228,352.8613 L1218,362.8613 L1154,362.8613 L1154,345.8613 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:2.0;" width="412" x="1154" y="345.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="1169" y="359.4297">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="286" x="1243" y="358.4961">[for each known System User in System User Store]</text><polygon fill="#A80036" points="1473.5,380.4824,1483.5,384.4824,1473.5,388.4824,1477.5,384.4824" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1294.5" x2="1479.5" y1="384.4824" y2="384.4824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1301.5" y="379.7402">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1314.5" y="379.7402">isYourEmail(email)</text><polygon fill="#A80036" points="1305.5,409.793,1295.5,413.793,1305.5,417.793,1301.5,413.793" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1299.5" x2="1489.5" y1="413.793" y2="413.793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1311.5" y="409.0508">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1324.5" y="409.0508">true</text><polygon fill="#A80036" points="951.5,446.1035,941.5,450.1035,951.5,454.1035,947.5,450.1035" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="945.5" x2="1288.5" y1="450.1035" y2="450.1035"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="957.5" y="445.3613">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="979.5" y="445.3613">user</text><polygon fill="#A80036" points="1473.5,475.4141,1483.5,479.4141,1473.5,483.4141,1477.5,479.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="940.5" x2="1479.5" y1="479.4141" y2="479.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="947.5" y="474.6719">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="460" x="969.5" y="474.6719">updatePassword (oldPassword, newPassword, newPasswordConfirmation)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1500.5" x2="1542.5" y1="508.7246" y2="508.7246"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1542.5" x2="1542.5" y1="508.7246" y2="521.7246"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1501.5" x2="1542.5" y1="521.7246" y2="521.7246"/><polygon fill="#A80036" points="1511.5,517.7246,1501.5,521.7246,1511.5,525.7246,1507.5,521.7246" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1507.5" y="503.9824">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="1529.5" y="503.9824">validateOldPassword(oldPasswordUI)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1500.5" x2="1542.5" y1="581.0352" y2="581.0352"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1542.5" x2="1542.5" y1="581.0352" y2="594.0352"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1501.5" x2="1542.5" y1="594.0352" y2="594.0352"/><polygon fill="#A80036" points="1511.5,590.0352,1501.5,594.0352,1511.5,598.0352,1507.5,594.0352" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1507.5" y="576.293">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="1529.5" y="576.293">setPassword(newPassword)</text><polygon fill="#A80036" points="951.5,649.3457,941.5,653.3457,951.5,657.3457,947.5,653.3457" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="945.5" x2="1489.5" y1="653.3457" y2="653.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="957.5" y="648.6035">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="979.5" y="648.6035">true</text><polygon fill="#A80036" points="409.5,678.6563,399.5,682.6563,409.5,686.6563,405.5,682.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="934.5" y1="682.6563" y2="682.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="415.5" y="677.9141">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="437.5" y="677.9141">true</text><polygon fill="#A80036" points="89.5,707.9668,79.5,711.9668,89.5,715.9668,85.5,711.9668" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="83.5" x2="392.5" y1="711.9668" y2="711.9668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="95.5" y="707.2246">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="117.5" y="707.2246">Informs Operation Success</text><!--MD5=[0db9453b978edd8e98e6216841a1d25f]
@startuml
'https://plantuml.com/sequence-diagram

title US011 - As Authenticated User, i want to change his/her password

autoactivate on
autonumber

actor "Authenticated User" as authenticatedUser
participant ":changePasswordUI" as UI
participant ":changePasswordController" as Ctrl
participant ":Company" as company
participant "systemUserStore:SystemUserStore" as systemUserStore
participant "user:SystemUser" as user

activate authenticatedUser

authenticatedUser -> UI: Starts changing password
UI - -> authenticatedUser: Requests Data (oldPassword, newPassword)
authenticatedUser -> UI: Types Requested Data
UI -> Ctrl: changePassword(email, oldPassword, newPassword, newPasswordConfirmation)
Ctrl -> company: getSystemUserStore()
company - -> Ctrl: systemUserStore
Ctrl -> systemUserStore: getUserByEmail(email)
loop for each known System User in System User Store
systemUserStore -> user: isYourEmail(email)
user - -> systemUserStore: true
end
systemUserStore - -> Ctrl: user
Ctrl -> user: updatePassword (oldPassword, newPassword, newPasswordConfirmation)
user -> user: validateOldPassword(oldPasswordUI)
deactivate user
user -> user: setPassword(newPassword)
deactivate user
user - -> Ctrl: true
Ctrl - -> UI: true
UI - -> authenticatedUser: Informs Operation Success

@enduml

@startuml

title US011 - As Authenticated User, i want to change his/her password

autoactivate on
autonumber

actor "Authenticated User" as authenticatedUser
participant ":changePasswordUI" as UI
participant ":changePasswordController" as Ctrl
participant ":Company" as company
participant "systemUserStore:SystemUserStore" as systemUserStore
participant "user:SystemUser" as user

activate authenticatedUser

authenticatedUser -> UI: Starts changing password
UI - -> authenticatedUser: Requests Data (oldPassword, newPassword)
authenticatedUser -> UI: Types Requested Data
UI -> Ctrl: changePassword(email, oldPassword, newPassword, newPasswordConfirmation)
Ctrl -> company: getSystemUserStore()
company - -> Ctrl: systemUserStore
Ctrl -> systemUserStore: getUserByEmail(email)
loop for each known System User in System User Store
systemUserStore -> user: isYourEmail(email)
user - -> systemUserStore: true
end
systemUserStore - -> Ctrl: user
Ctrl -> user: updatePassword (oldPassword, newPassword, newPasswordConfirmation)
user -> user: validateOldPassword(oldPasswordUI)
deactivate user
user -> user: setPassword(newPassword)
deactivate user
user - -> Ctrl: true
Ctrl - -> UI: true
UI - -> authenticatedUser: Informs Operation Success

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 WET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>