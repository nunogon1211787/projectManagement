<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1003px" preserveAspectRatio="none" style="width:2137px;height:1003px;background:#FFFFFF;" version="1.1" viewBox="0 0 2137 1003" width="2137px" zoomAndPan="magnify"><defs><filter height="300%" id="fdfxypcl1ttxk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="765" x="683.5" y="30.6855">Sequence Diagram of US001 - As Non-Registered User, I want to register as an application user</text><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="772.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="69" y="136.25"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="587" y="158.6016"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="689.9375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="587" y="219.3047"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="620.2344" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1134" y="249.6563"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1310" y="280.0078"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1310" y="494.4688"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="123.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1460" y="340.7109"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653" y="396.4141"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="76.9609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1847" y="555.1719"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="177.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1847" y="662.4844"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1852" y="700.8359"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1852" y="774.1875"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="396" x="1356" y="355.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="74" x2="74" y1="126.25" y2="918.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="592" x2="592" y1="126.25" y2="918.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1139" x2="1139" y1="126.25" y2="918.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1315" x2="1315" y1="126.25" y2="918.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1465" x2="1465" y1="126.25" y2="918.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1658" x2="1658" y1="126.25" y2="918.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1852" x2="1852" y1="126.25" y2="918.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2024" x2="2024" y1="596.4766" y2="918.2422"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2112" x2="2112" y1="126.25" y2="918.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="5" y="123.1738">Non-Registered User</text><ellipse cx="74" cy="51.6406" fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M74,59.6406 L74,86.6406 M61,67.6406 L87,67.6406 M74,86.6406 L61,101.6406 M74,86.6406 L87,101.6406 " fill="none" filter="url(#fdfxypcl1ttxk)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="5" y="931.7754">Non-Registered User</text><ellipse cx="74" cy="944.8516" fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M74,952.8516 L74,979.8516 M61,960.8516 L87,960.8516 M74,979.8516 L61,994.8516 M74,979.8516 L87,994.8516 " fill="none" filter="url(#fdfxypcl1ttxk)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="534" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="541" y="111.1738">:RegisterUserUI</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="534" y="917.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="541" y="938.7754">:RegisterUserUI</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="162" x="1056" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1063" y="111.1738">:RegisterUserController</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="162" x="1056" y="917.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1063" y="938.7754">:RegisterUserController</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="1274" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1281" y="111.1738">:Company</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="78" x="1274" y="917.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1281" y="938.7754">:Company</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="194" x="1366" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="1373" y="111.1738">profileStore:UserProfileStore</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="194" x="1366" y="917.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="1373" y="938.7754">profileStore:UserProfileStore</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="164" x="1574" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1581" y="111.1738">visitorProfile:UserProfile</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="164" x="1574" y="917.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1581" y="938.7754">visitorProfile:UserProfile</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="196" x="1752" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="1759" y="111.1738">usersStore:SystemUserStore</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="196" x="1752" y="917.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="1759" y="938.7754">usersStore:SystemUserStore</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="121" x="1962" y="917.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1969" y="938.7754">user:SystemUser</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="26" x="2097" y="89.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="2104" y="111.1738">Ui</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="26" x="2097" y="917.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="2104" y="938.7754">Ui</text><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="772.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="69" y="136.25"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="587" y="158.6016"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="689.9375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="587" y="219.3047"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="620.2344" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1134" y="249.6563"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1310" y="280.0078"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1310" y="494.4688"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="123.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1460" y="340.7109"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1653" y="396.4141"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="76.9609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1847" y="555.1719"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="177.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1847" y="662.4844"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1852" y="700.8359"/><rect fill="#FFFFFF" filter="url(#fdfxypcl1ttxk)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1852" y="774.1875"/><polygon fill="#A80036" points="575,154.6016,585,158.6016,575,162.6016,579,158.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="79" x2="581" y1="158.6016" y2="158.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="86" y="153.7451">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="97" y="153.7451">Ask to register new user</text><polygon fill="#A80036" points="90,184.9531,80,188.9531,90,192.9531,86,188.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="591" y1="188.9531" y2="188.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="96" y="184.0967">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="473" x="107" y="184.0967">request data (userName, email, function, password, passwordConfirmation, photo)</text><polygon fill="#A80036" points="575,215.3047,585,219.3047,575,223.3047,579,219.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="79" x2="581" y1="219.3047" y2="219.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="86" y="214.4482">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="97" y="214.4482">Types request data</text><polygon fill="#A80036" points="1122,245.6563,1132,249.6563,1122,253.6563,1126,249.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="597" x2="1128" y1="249.6563" y2="249.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="604" y="244.7998">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="507" x="615" y="244.7998">createSystemUser(UserName, email, function, password, passwordConfirmation, photo)</text><polygon fill="#A80036" points="1298,276.0078,1308,280.0078,1298,284.0078,1302,280.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1144" x2="1304" y1="280.0078" y2="280.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1151" y="275.1514">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1162" y="275.1514">getUserProfileStore()</text><polygon fill="#A80036" points="1155,306.3594,1145,310.3594,1155,314.3594,1151,310.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1149" x2="1314" y1="310.3594" y2="310.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1161" y="305.5029">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1172" y="305.5029">profileStore</text><polygon fill="#A80036" points="1448,336.7109,1458,340.7109,1448,344.7109,1452,340.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1144" x2="1454" y1="340.7109" y2="340.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1151" y="335.8545">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="1162" y="335.8545">getProfileByName(visitor)</text><path d="M1356,355.7109 L1429,355.7109 L1429,363.7109 L1419,373.7109 L1356,373.7109 L1356,355.7109 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="396" x="1356" y="355.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="1371" y="370.2061">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="200" x="1444" y="369.1299">[for each profile in UserProfileStore]</text><polygon fill="#A80036" points="1641,392.4141,1651,396.4141,1641,400.4141,1645,396.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1470" x2="1647" y1="396.4141" y2="396.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1477" y="391.5576">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1488" y="391.5576">isYourProfile(visitor)</text><polygon fill="#A80036" points="1481,422.7656,1471,426.7656,1481,430.7656,1477,426.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1475" x2="1657" y1="426.7656" y2="426.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1487" y="421.9092">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="1498" y="421.9092">true</text><polygon fill="#A80036" points="1155,460.1172,1145,464.1172,1155,468.1172,1151,464.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1149" x2="1464" y1="464.1172" y2="464.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1161" y="459.2607">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="1179" y="459.2607">visitorProfile</text><polygon fill="#A80036" points="1298,490.4688,1308,494.4688,1298,498.4688,1302,494.4688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1144" x2="1304" y1="494.4688" y2="494.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1151" y="489.6123">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1169" y="489.6123">getSystemUserStore()</text><polygon fill="#A80036" points="1155,520.8203,1145,524.8203,1155,528.8203,1151,524.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1149" x2="1314" y1="524.8203" y2="524.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1161" y="519.9639">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1179" y="519.9639">usersStore</text><polygon fill="#A80036" points="1835,551.1719,1845,555.1719,1835,559.1719,1839,555.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1144" x2="1841" y1="555.1719" y2="555.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1151" y="550.3154">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="589" x="1169" y="550.3154">createSystemUser(userName, email, function, password, passwordConfirmation, photo, visitorProfile?)</text><polygon fill="#A80036" points="1950,581.5234,1960,585.5234,1950,589.5234,1954,585.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1857" x2="1956" y1="585.5234" y2="585.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1864" y="580.667">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1882" y="580.667">create()</text><rect fill="#FEFECE" filter="url(#fdfxypcl1ttxk)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="121" x="1962" y="563.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1969" y="584.7051">user:SystemUser</text><polygon fill="#A80036" points="1155,628.1328,1145,632.1328,1155,636.1328,1151,632.1328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1149" x2="1851" y1="632.1328" y2="632.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1161" y="627.2764">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1179" y="627.2764">user</text><polygon fill="#A80036" points="1835,658.4844,1845,662.4844,1835,666.4844,1839,662.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1144" x2="1841" y1="662.4844" y2="662.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1151" y="657.6279">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="1169" y="657.6279">saveSystemUser(user)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1862" x2="1904" y1="692.8359" y2="692.8359"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1904" x2="1904" y1="692.8359" y2="705.8359"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1863" x2="1904" y1="705.8359" y2="705.8359"/><polygon fill="#A80036" points="1873,701.8359,1863,705.8359,1873,709.8359,1869,705.8359" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1869" y="687.9795">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1887" y="687.9795">validateSystem(user)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1862" x2="1904" y1="766.1875" y2="766.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1904" x2="1904" y1="766.1875" y2="779.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1863" x2="1904" y1="779.1875" y2="779.1875"/><polygon fill="#A80036" points="1873,775.1875,1863,779.1875,1873,783.1875,1869,779.1875" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1869" y="761.3311">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1887" y="761.3311">addSystem(user)</text><polygon fill="#A80036" points="1155,835.5391,1145,839.5391,1155,843.5391,1151,839.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1149" x2="1851" y1="839.5391" y2="839.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1161" y="834.6826">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="1179" y="834.6826">true</text><polygon fill="#A80036" points="608,865.8906,598,869.8906,608,873.8906,604,869.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="602" x2="1138" y1="869.8906" y2="869.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="614" y="865.0342">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="632" y="865.0342">true</text><polygon fill="#A80036" points="90,896.2422,80,900.2422,90,904.2422,86,900.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="84" x2="2111" y1="900.2422" y2="900.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="96" y="895.3857">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="114" y="895.3857">informs operation success</text><!--MD5=[4848c1d3c422c0d78f50eac5049a9a61]
@startuml
'https://plantuml.com/sequence-diagram

title Sequence Diagram of US001 - As Non-Registered User, I want to register as an application user

autoactivate on
autonumber

actor "Non-Registered User" as User
participant ":RegisterUserUI" as UI
participant ":RegisterUserController" as Ctrl
participant ":Company" as Company
participant "profileStore:UserProfileStore" as UserProfileStore
participant "visitorProfile:UserProfile" as UserProfile
participant "usersStore:SystemUserStore" as SystemUserStore
participant "user:SystemUser" as SystemUser

activate User

User -> UI: Ask to register new user
UI - -> User: request data (userName, email, function, password, passwordConfirmation, photo)
User -> UI: Types request data
UI -> Ctrl: createSystemUser(UserName, email, function, password, passwordConfirmation, photo)
Ctrl -> Company: getUserProfileStore()
Company - -> Ctrl: profileStore
Ctrl -> UserProfileStore: getProfileByName(visitor)
loop for each profile in UserProfileStore
UserProfileStore -> UserProfile: isYourProfile(visitor)
UserProfile - -> UserProfileStore: true
end
UserProfileStore - -> Ctrl: visitorProfile
Ctrl -> Company: getSystemUserStore()
Company - -> Ctrl: usersStore
Ctrl -> SystemUserStore: createSystemUser(userName, email, function, password, passwordConfirmation, photo, visitorProfile?)
SystemUserStore - -> SystemUser**: create()
SystemUserStore - -> Ctrl: user
Ctrl -> SystemUserStore: saveSystemUser(user)
SystemUserStore -> SystemUserStore: validateSystem(user)
deactivate SystemUserStore
SystemUserStore -> SystemUserStore: addSystem(user)
deactivate SystemUserStore
SystemUserStore - -> Ctrl: true
Ctrl - -> UI: true
Ui - -> User: informs operation success

'System -> Ctrl: authenticate(userId, pwd)
'Ctrl -> C1: doLogIn(userId, pwd)
'C1 - -> Ctrl: userToken
'Ctrl - -> System: ok
'System - -> User: Authentication Response

@enduml

@startuml

title Sequence Diagram of US001 - As Non-Registered User, I want to register as an application user

autoactivate on
autonumber

actor "Non-Registered User" as User
participant ":RegisterUserUI" as UI
participant ":RegisterUserController" as Ctrl
participant ":Company" as Company
participant "profileStore:UserProfileStore" as UserProfileStore
participant "visitorProfile:UserProfile" as UserProfile
participant "usersStore:SystemUserStore" as SystemUserStore
participant "user:SystemUser" as SystemUser

activate User

User -> UI: Ask to register new user
UI - -> User: request data (userName, email, function, password, passwordConfirmation, photo)
User -> UI: Types request data
UI -> Ctrl: createSystemUser(UserName, email, function, password, passwordConfirmation, photo)
Ctrl -> Company: getUserProfileStore()
Company - -> Ctrl: profileStore
Ctrl -> UserProfileStore: getProfileByName(visitor)
loop for each profile in UserProfileStore
UserProfileStore -> UserProfile: isYourProfile(visitor)
UserProfile - -> UserProfileStore: true
end
UserProfileStore - -> Ctrl: visitorProfile
Ctrl -> Company: getSystemUserStore()
Company - -> Ctrl: usersStore
Ctrl -> SystemUserStore: createSystemUser(userName, email, function, password, passwordConfirmation, photo, visitorProfile?)
SystemUserStore - -> SystemUser**: create()
SystemUserStore - -> Ctrl: user
Ctrl -> SystemUserStore: saveSystemUser(user)
SystemUserStore -> SystemUserStore: validateSystem(user)
deactivate SystemUserStore
SystemUserStore -> SystemUserStore: addSystem(user)
deactivate SystemUserStore
SystemUserStore - -> Ctrl: true
Ctrl - -> UI: true
Ui - -> User: informs operation success


@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>