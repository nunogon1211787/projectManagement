@startuml
'https://plantuml.com/sequence-diagram

title Sequence Diagram US026 "As Administrator, I want to activate a user account"

autoactivate on
autonumber

actor "Administrator" as Administrator
participant ":ActivateAnUserAccountUI" as UI
participant ":ActivateAnUserAccountController" as Ctrl
participant ":Company" as Company
participant "systemUserStore:SystemUserStore" as SystemUserStore
participant "user:SystemUser" as SystemUser


activate "Administrator"

"Administrator" -> UI: Activate an User Account
UI -> Ctrl: activateUser()
Ctrl -> Company: getSystemUserStore()
return systemUserStore
Ctrl -> SystemUserStore : getUserByEmail()
loop
SystemUserStore-> SystemUser: isYourEmail(email)
SystemUser --> SystemUserStore: true
end
return user
Ctrl -> SystemUser : setActivateUser()
SystemUser --> Ctrl : true
Ctrl --> UI : true
UI --> "Administrator": Account activated
@enduml