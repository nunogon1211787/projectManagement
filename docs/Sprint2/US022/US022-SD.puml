@startuml

title US022 - As Project Manager, I want to create a sprint.

autoactivate on
autonumber

participant ": CreateSprintRoute" as UI
participant ": CreateSprintController" as Ctrl
participant ": CreateSprintService" as createSprintService
participant ": ISprintFactory" as sprintFactory
participant " newSprint : Sprint" as sprint
participant ": ISprintRepo" as sprintRepo
participant ": SprintMapper" as sprintMapper
participant "outPutSprintDTO: OutPutSprintDTO" as outPutSprintDTO


[o-> UI: POST/sprints(json)
UI -> Ctrl: createSprint(json)
note right
Json object was deserialize to a NewSprintDTO object
end note
Ctrl -> createSprintService: createSprint(newSprintDTO)
createSprintService -> sprintFactory: createSprint(newSprintDTO)
note over sprintFactory : The creation of the id are hidden to simplify the diagram.
sprintFactory -> sprint**: create(sprintID)
sprintFactory --> createSprintService: newSprint
createSprintService -> sprintRepo: save(newSprint)
sprintRepo --> createSprintService: true
createSprintService -> sprintMapper: toDTO(newsprint)
sprintMapper -> outPutSprintDTO**: create()
sprintMapper --> createSprintService: outPutSprintDTO
createSprintService --> Ctrl: outPutSprintDTO
Ctrl --> UI: outputJson
note right
Change from json to dto hidden to simplify diagram
end note
[<--UI : Informs Operation Success
@enduml