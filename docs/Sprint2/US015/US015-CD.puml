@startuml
'https://plantuml.com/class-diagram

title US015 - As Director, I want to get a list of all projects

skinparam classAttributeIconSize 0

package "System" <<Rectangle>> {

package "Infrastructure" <<Rectangle>> #lightblue  {
class "GetAllProjectsRoute" as route << Component >>
}

package "Interface Adapters" <<Rectangle>> #lightgreen {
package "Controllers" <<rectangle>>{
class "GetAllProjectsController" as ctrl << Component >> {
+getAllProjects()
}
}
package "Repositories" <<rectangle>>{
class "ProjectStore" as store << Component >> {
-projects : List<Project>
+findAll()
}
}
}

package "Application Service" <<Rectangle>> #lightpink{
package "App Services" <<rectangle>>{
class "GetAllProjectsService" as srv << Component >> {
+getAllProjects()
}
}
package "IRepositories" <<rectangle>>{
interface "IProjectRepository" as repo{
findAll()
}
}
}

package "Domain" <<Rectangle>> #burlywood{
package "Aggregates" <<rectangle>>{
package "Project" <<Rectangle>>{
entity "Project" as proj << Root >> {
-projectName : Description
-projectStatus : ProjectStatus
}
}
}
package "Value Object" <<rectangle>>{
class "ProjectId" as pId << Value Object >> {
projectId : ProjectCode
}
}
}

package "DTO" <<rectangle>>{
class "ProjectsMapper" as map <<Component>> {
+ model2Dto()
+ dto2Json()
}
class "ProjectDTO" as dto <<Component>>{
+ projectCode : String
+ projectName : String
+ projectStatus : String
}

class "ProjectJson" as json <<Component>>{
+ projectCode : String
+ projectName : String
+ projectStatus : String
}
}
}

route .d.> ctrl
ctrl .d..> srv
srv .r.> repo
repo <|.. store
store "1"*----"*" proj
proj "1"*-l-"1" pId
ctrl .d.> map
srv .u.> map
map .r.> dto
map .l.> json
map ..> proj

@enduml